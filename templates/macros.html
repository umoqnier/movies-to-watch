{% macro nav_link(endpoint, name) %}
  {% if request.endpoint.endswith(endpoint) %}
    <li class="nav-item active">
      <a class="nav-link" href="{{ url_for(endpoint) }}">{{name}} <span class="sr-only">(current)</span></a></li>
  {% else %}
    <li class="nav-item"><a class="nav-link" href="{{ url_for(endpoint) }}">{{name}}</a></li>
  {% endif %}
{% endmacro %}


{% macro card_render(movie) %}
  {% if movie.is_watch %}
    <div class="card text-white bg-dark h-100">
      {%if movie.poster %}
        <img class="card-img-top" src="{{movie.poster}}" alt="Poster de {{movie.title}}"/>
      {% else %}
        <img class="card-img-top" src="https://http.cat/404" alt="Poster no encontrado"/>
      {% endif %}

      <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
          <li class="nav-item"><a class="nav-link active" href="">General</a></li>
          <li class="nav-item"><a class="nav-link" href="">Cast</a></li>
          <li class="nav-item"><a class="nav-link" href="">Criticas</a></li>
        </ul>
      </div>

      <div class="card-body">
          <h3 class="card-title"> {{movie.title}} <small>({{movie.year}})</small></h3>
          <h5 class="card-subtitle mb-2 text-muted">ðŸŽ¥ {{ movie.director }}</h5>
          <h6><i class="fa fa-language"></i> {{movie.language}}</h6>
          <p class="font-weight-light">{{ movie.plot }}</p>
          <a href="#" class="btn btn-light btn-block" role="button">
            No vista <i class="fa fa-eye-slash"></i>
          </a>
      </div>

      <div class="card-footer">
        DuraciÃ³n: <span class="badge badge-danger">{{movie.runtime}}</span>
        Votos en IMDB: <span class="badge badge-light">{{movie.imdbvotes}}</span>
        Metascore: <span class="badge badge-warning">{{movie.metascore}}</span>
      </div>
    </div>

  {% else %}
    <div class="card h-100">
      {%if movie.poster %}
        <img class="card-img-top" src="{{movie.poster}}" alt="Poster de {{movie.title}}"/>
      {% else %}
        <img class="card-img-top" src="https://http.cat/404" alt="Poster no encontrado"/>
      {% endif %}

      <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs">
          <li class="nav-item"><a class="nav-link active" href="">General</a></li>
          <li class="nav-item"><a class="nav-link" href="">Cast</a></li>
          <li class="nav-item"><a class="nav-link" href="">Criticas</a></li>
        </ul>
      </div>

      <div class="card-body d-flex flex-column">
        <h3 class="card-title"> {{movie.title}} <small class="text-muted">({{movie.year}})</small></h3>
        <h5 class="card-subtitle mb-2 text-muted">ðŸŽ¥ {{ movie.director }}</h5>
        <h6><i class="fa fa-language"></i> {{movie.language}}</h6>
        <p class="font-weight-light">{{ movie.plot }}</p>
        <a href="" class="btn btn-success btn-block mt-auto" role="button">
          Vista <i class="fa fa-eye"></i>
        </a>
      </div>

      <div class="card-footer text-muted">
        DuraciÃ³n: <span class="badge badge-danger">{{movie.runtime}}</span>
        Votos en IMDB: <span class="badge badge-dark">{{movie.imdbvotes}}</span>
        Metascore: <span class="badge badge-warning">{{movie.metascore}}</span>
      </div>
    </div>
  {% endif %}

{% endmacro %}
